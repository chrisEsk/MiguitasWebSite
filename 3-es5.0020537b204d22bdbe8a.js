(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{pXY8:function n(t,l,e){"use strict";e.r(l);var i=e("8Y7J"),o=e("mrSG"),r=e("VVxe"),a=e("LvDl"),u=e("Zr1d"),s=e("ZZ/e"),c=e("dkQB"),b=e("sybk"),d=e("7K7q");var h=function(){function n(n,t,l,e,i,o,r){this.route=n,this.navCtrl=t,this.keyboard=l,this.productService=e,this.loadingCtrl=i,this.alertCtrl=o,this.authService=r,this.brandUrlId=this.route.snapshot.paramMap.get("brandUrlId")||"all",this.loadTags=!1,this.searchCriteria="",this.daList=[],this.ionRefresher=!1}var t=n.prototype;t.ngOnInit=function n(){this.resetPagination(),this.search()};t.doRefresh=function n(t){return o.b(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function n(l){while(1){switch(l.prev=l.next){case 0:this.ionRefresher=!0;l.next=3;return this.ngOnInit();case 3:t.target.complete();this.ionRefresher=!1;case 5:case"end":return l.stop()}}},n,this)}))};t.resetPagination=function n(){this.useInfiniteScroll=!1,this.fetchingPage=!1,this.page=0,this.lastPage=!1};t.search=function n(){var t=this;return new Promise(function(n,l){return o.b(t,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function t(i){while(1){switch(i.prev=i.next){case 0:this.loading=!this.useInfiniteScroll&&!this.ionRefresher,this.noResults=!1,this.productService.GetBrandProductsBySearchCriteria(this.brandUrlId,this.page,c.a.SETTINGS.PAGE_SIZE,r(this.searchCriteria)).then(function(t){e.useInfiniteScroll?Object(a.each)(t,function(n){return o.b(e,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function t(l){while(1){switch(l.prev=l.next){case 0:this.daList.push(n);l.t0=this.loadTags;if(!l.t0){l.next=6;break}l.next=5;return this.productService.GetTagsForProduct(n.id);case 5:n.tags=l.sent;case 6:case"end":return l.stop()}}},t,this)}))}):(e.daList=t,e.loadTags&&Object(a.each)(e.daList,function(n){return o.b(e,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function t(l){while(1){switch(l.prev=l.next){case 0:l.next=2;return this.productService.GetTagsForProduct(n.id);case 2:n.tags=l.sent;case 3:case"end":return l.stop()}}},t,this)}))})),e.loading=!1,e.noResults=Object(a.isEmpty)(e.daList),n(t)}).catch(function(n){console.error(n),e.loading=!1,e.noResults=!0,e.daList=[],l(n)});case 1:case"end":return i.stop()}}},t,this)}))})};t.loadMore=function n(){var t=this;this.fetchingPage||(this.useInfiniteScroll=!0,this.fetchingPage=!0,this.page++,this.search().then(function(n){t.useInfiniteScroll=!1,t.fetchingPage=!1,t.infiniteScroll.complete(),n?t.lastPage=0===n.length:t.page--}).catch(function(n){console.error(n),t.infiniteScroll.complete()}))};t.goToProduct=function n(t){this.navCtrl.navigateForward("product/"+t.get("urlId"))};t.criteriaChanged=function n(){this.resetPagination(),this.search()};t.clearSearchBar=function n(){this.searchCriteria="",this.hideKeyboard(),this.scrollToTop(),this.resetPagination(),this.search()};t.hideKeyboard=function n(){this.keyboard.hide()};t.scrollToTop=function n(){this.content.scrollToTop(1500)};return n}();var g=function n(){};var p=e("pMnS"),f=e("oBZk"),m=e("otYU"),P=e("SVse"),v=e("iInd"),C=i.Db({encapsulation:0,styles:[["[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{--background:linear-gradient(135deg, var(--ion-color-light), var(--cream))}ion-card.daListCard[_ngcontent-%COMP%]{position:relative}ion-card.daListCard[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{margin-bottom:-3px}ion-card.daListCard[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:30px;position:absolute;top:5%;left:5%;z-index:2;text-shadow:.5px .5px .5px var(--ion-color-dark);font-weight:bolder}ion-card.daListCard[_ngcontent-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{position:absolute;top:27%;left:5%;z-index:2;text-shadow:.5px .5px .5px var(--ion-color-dark);font-size:20px}ion-card.daListCard[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{width:100%;position:absolute;z-index:3;bottom:0}ion-card.daListCard[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;z-index:1;box-shadow:inset 0 0 15rem rgba(var(--ion-color-dark-rgb),.4)}ion-card.daListCard[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{right:2%;bottom:20%;position:absolute}ion-card.daListCard[_ngcontent-%COMP%]   .rooms[_ngcontent-%COMP%]{left:0;position:absolute;bottom:0}ion-card.daListCard[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{margin:3px}.cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));grid-gap:1rem;max-width:960px;margin:10px auto 30px}article[_ngcontent-%COMP%]{position:relative}.article-img[_ngcontent-%COMP%]{height:200px;width:100%;-o-object-fit:cover;object-fit:cover}.article-title[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;padding:10px;background-color:rgba(255,255,255,.7)}"]],data:{animation:[{type:7,name:"staggerIn",definitions:[{type:1,expr:"* => *",animation:[{type:11,selector:":enter",animation:{type:6,styles:{opacity:0,transform:"translate3d(0,10px,0)"},offset:null},options:{optional:!0}},{type:11,selector:":enter",animation:{type:12,timings:"300ms",animation:[{type:4,styles:{type:6,styles:{opacity:1,transform:"translate3d(0,0,0)"},offset:null},timings:"600ms"}]},options:{optional:!0}}],options:null}],options:{}}]}});function x(n){return i.bc(0,[(n()(),i.Fb(0,0,null,null,1,"ion-spinner",[["class","center3"]],null,null,null,f.qb,f.F)),i.Eb(1,49152,null,0,s.qb,[i.j,i.q,i.H],null,null)],null,null)}function O(n){return i.bc(0,[(n()(),i.Fb(0,0,null,null,20,"article",[],null,null,null,null,null)),(n()(),i.Fb(1,0,null,null,19,"ion-card",[["class","daListCard hvr-grow"],["tappable",""]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.goToProduct(n.context.$implicit)&&e),e},f.V,f.g)),i.Eb(2,49152,null,0,s.l,[i.j,i.q,i.H],null,null),(n()(),i.Fb(3,0,null,0,2,"ion-img",[],null,null,null,f.db,f.s)),i.Eb(4,49152,null,0,s.C,[i.j,i.q,i.H],{src:[0,"src"]},null),i.Vb(5,2),(n()(),i.Fb(6,0,null,0,2,"ion-card-title",[["color","light"]],null,null,null,f.U,f.k)),i.Eb(7,49152,null,0,s.p,[i.j,i.q,i.H],{color:[0,"color"]},null),(n()(),i.Zb(8,0,["",""])),(n()(),i.Fb(9,0,null,0,2,"ion-card-subtitle",[["color","light"]],null,null,null,f.T,f.j)),i.Eb(10,49152,null,0,s.o,[i.j,i.q,i.H],{color:[0,"color"]},null),(n()(),i.Zb(11,0,["",""])),(n()(),i.Fb(12,0,null,0,0,"div",[["class","shadow"]],null,null,null,null,null)),(n()(),i.Fb(13,0,null,0,7,"ion-card-content",[],null,null,null,f.R,f.h)),i.Eb(14,49152,null,0,s.m,[i.j,i.q,i.H],null,null),(n()(),i.Fb(15,0,null,0,5,"ion-badge",[["class","price"],["color","success"],["slot","end"]],null,null,null,f.O,f.d)),i.Eb(16,49152,null,0,s.i,[i.j,i.q,i.H],{color:[0,"color"]},null),(n()(),i.Fb(17,0,null,0,3,"h3",[],null,null,null,null,null)),(n()(),i.Fb(18,0,null,null,2,"strong",[],null,null,null,null,null)),(n()(),i.Zb(19,null,["\u20a1 ",""])),i.Vb(20,1)],function(n,t){var l=i.ac(t,4,0,n(t,5,0,i.Rb(t.parent,0),t.context.$implicit.get("imgUrls")[0],"rectangleFill"));n(t,4,0,l),n(t,7,0,"light"),n(t,10,0,"light"),n(t,16,0,"success")},function(n,t){var l=t.context.$implicit.get("name_es");n(t,8,0,l);var e=t.context.$implicit.get("presentation_es");n(t,11,0,e);var o=i.ac(t,19,0,n(t,20,0,i.Rb(t.parent,1),t.context.$implicit.get("price_cr")));n(t,19,0,o)})}function w(n){return i.bc(0,[i.Tb(0,m.a,[]),i.Tb(0,P.d,[i.B]),i.Xb(671088640,1,{content:0}),i.Xb(671088640,2,{infiniteScroll:0}),(n()(),i.Fb(4,0,null,null,10,"ion-header",[],null,null,null,f.bb,f.q)),i.Eb(5,49152,null,0,s.A,[i.j,i.q,i.H],null,null),(n()(),i.Fb(6,0,null,0,8,"ion-toolbar",[["color","primary"]],null,null,null,f.vb,f.K)),i.Eb(7,49152,null,0,s.Ab,[i.j,i.q,i.H],{color:[0,"color"]},null),(n()(),i.Fb(8,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,f.Q,f.f)),i.Eb(9,49152,null,0,s.k,[i.j,i.q,i.H],null,null),(n()(),i.Fb(10,0,null,0,1,"ion-menu-button",[],null,null,null,f.ib,f.y)),i.Eb(11,49152,null,0,s.Q,[i.j,i.q,i.H],null,null),(n()(),i.Fb(12,0,null,0,2,"ion-title",[],null,null,null,f.ub,f.J)),i.Eb(13,49152,null,0,s.yb,[i.j,i.q,i.H],null,null),(n()(),i.Zb(-1,0,["Men\xfa"])),(n()(),i.Fb(15,0,null,null,7,"ion-content",[],null,null,null,f.Y,f.n)),i.Eb(16,49152,[[1,4]],0,s.t,[i.j,i.q,i.H],null,null),(n()(),i.Fb(17,0,null,0,5,"div",[],[[24,"@staggerIn",0]],null,null,null,null)),(n()(),i.Fb(18,0,null,null,4,"section",[["class","cards"]],null,null,null,null,null)),(n()(),i.ub(16777216,null,null,1,null,x)),i.Eb(20,16384,null,0,P.j,[i.ab,i.W],{ngIf:[0,"ngIf"]},null),(n()(),i.ub(16777216,null,null,1,null,O)),i.Eb(22,278528,null,0,P.i,[i.ab,i.W,i.z],{ngForOf:[0,"ngForOf"]},null)],function(n,t){var l=t.component;n(t,7,0,"primary"),n(t,20,0,l.loading),n(t,22,0,l.daList)},function(n,t){var l=t.component;n(t,17,0,null==l.daList?null:l.daList.length)})}function F(n){return i.bc(0,[(n()(),i.Fb(0,0,null,null,2,"app-product-list",[],null,null,null,w,C)),i.Wb(512,null,u.a,u.a,[]),i.Eb(2,114688,null,0,h,[v.a,s.Hb,u.a,d.a,s.Eb,s.a,b.a],null,null)],function(n,t){n(t,2,0)},null)}var y=i.Bb("app-product-list",h,F,{},{},[]),M=e("s7LF"),_=e("7JYj");e.d(l,"ProductListPageModuleNgFactory",function(){return k});var k=i.Cb(g,[],function(n){return i.Ob([i.Pb(512,i.m,i.nb,[[8,[p.a,y]],[3,i.m],i.F]),i.Pb(4608,P.l,P.k,[i.B,[2,P.v]]),i.Pb(4608,M.p,M.p,[]),i.Pb(4608,s.b,s.b,[i.H,i.g]),i.Pb(4608,s.Gb,s.Gb,[s.b,i.m,i.x]),i.Pb(4608,s.Jb,s.Jb,[s.b,i.m,i.x]),i.Pb(1073742336,P.b,P.b,[]),i.Pb(1073742336,M.o,M.o,[]),i.Pb(1073742336,M.e,M.e,[]),i.Pb(1073742336,s.Cb,s.Cb,[]),i.Pb(1073742336,v.o,v.o,[[2,v.t],[2,v.m]]),i.Pb(1073742336,_.a,_.a,[]),i.Pb(1073742336,g,g,[]),i.Pb(1024,v.k,function(){return[[{path:"",component:h}]]},[])])})}}]);