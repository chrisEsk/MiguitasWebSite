(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"/yGZ":function(n,l,e){"use strict";e.r(l);var t=e("8Y7J"),o=e("mrSG"),u=e("s7LF"),i=e("ZZ/e"),r=e("sybk"),a=e("v0iw"),s=e("dkQB");let c=(()=>{class n{constructor(){this.parseAppId=s.a.parseAppId,this.parseJSKey=s.a.parseJSKey,this.parseServerUrl=s.a.parseServerUrl,this.parseInitialize()}parseInitialize(){a.initialize(this.parseAppId,this.parseJSKey),a.serverURL=this.parseServerUrl}RecoverPassword(n){return a.User.requestPasswordReset(n.trim().toLowerCase())}}return n.ngInjectableDef=t.Rb({factory:function(){return new n},token:n,providedIn:"root"}),n})();var b=e("2m4Y");class d{constructor(n,l,e,t,o,u,i,r,a){this.authService=n,this.navCtrl=l,this.translate=e,this.menuCtrl=t,this.toastCtrl=o,this.alertCtrl=u,this.loadingCtrl=i,this.formBuilder=r,this.forgotPasswordService=a,this.logo="/assets/img/miguitas_logo.png"}ionViewWillEnter(){this.menuCtrl.enable(!1)}ngOnInit(){this.authService.SignOut(),this.onLoginForm=this.formBuilder.group({email:[null,u.n.compose([u.n.required])],password:[null,u.n.compose([u.n.required])]})}submit(){return o.b(this,void 0,void 0,function*(){const n=yield this.loadingCtrl.create({duration:5e3});n.present(),this.authService.Login(this.onLoginForm.value).then(l=>{n.dismiss(),this.goToHome()}).catch(l=>{console.error(l),n.dismiss(),this.alertInvalidCredentials()})})}alertInvalidCredentials(){return o.b(this,void 0,void 0,function*(){const n=yield this.alertCtrl.create({header:"Usuario Inv\xe1lido",message:"Verifique las credenciales e intente de nuevo.",buttons:["Ok"]});yield n.present()})}openForgotPassAlert(){return o.b(this,void 0,void 0,function*(){(yield this.alertCtrl.create({header:"Recuperaci\xf3n de contrase\xf1a",message:"Ingrese su correo electr\xf3nico:",inputs:[{name:"email",type:"email",placeholder:"Correo Electr\xf3nico"}],buttons:[{text:this.translate.get("app.label.cancel"),role:"cancel",cssClass:"secondary"},{text:this.translate.get("app.label.accept"),handler:n=>o.b(this,void 0,void 0,function*(){this.forgotPass(n)})}]})).present()})}forgotPass(n){return o.b(this,void 0,void 0,function*(){if(!this.validateEmail(n.email)){const n=yield this.toastCtrl.create({message:"Correo electr\xf3nico inv\xe1lido.",duration:4e3,position:"bottom",buttons:[{icon:"close",side:"end"}],color:"danger"});return void(yield n.present())}const l=yield this.loadingCtrl.create({duration:6e3});l.present(),this.forgotPasswordService.RecoverPassword(n.email.trim().toLowerCase()).then(e=>o.b(this,void 0,void 0,function*(){l.dismiss();const e=yield this.alertCtrl.create({header:"Sigue el enlace enviado a "+n.email,message:"Tip: Recuerda revisar la carpeta de correo no deseado si no lo encuentras.",buttons:["Ok"]});yield e.present()})).catch(e=>o.b(this,void 0,void 0,function*(){l.dismiss();const t=yield this.alertCtrl.create({header:"Error",message:"No se pudo enviar el correo de recuperaci\xf3n a "+n.email,buttons:["Ok"]});yield t.present(),console.error(e)}))})}validateEmail(n){return/\S+@\S+\.\S+/.test(n)}goToHome(){this.navCtrl.navigateRoot("home")}}class g{}var p=e("pMnS"),h=e("oBZk"),m=e("iInd"),C=e("SVse"),v=t.qb({encapsulation:0,styles:[["[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{--background:linear-gradient(135deg, var(--ion-color-medium), var(--ion-color-light))}.auth-page[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%], .auth-page[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{padding:0}.auth-page[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .button-ios[_ngcontent-%COMP%], .auth-page[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .button-md[_ngcontent-%COMP%]{border-radius:0}.auth-page[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .button-ios[_ngcontent-%COMP%]:first-of-type, .auth-page[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .button-md[_ngcontent-%COMP%]:first-of-type{border-radius:2px 0 0 2px}.auth-page[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .button-ios[_ngcontent-%COMP%]:last-of-type, .auth-page[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .button-md[_ngcontent-%COMP%]:last-of-type{border-radius:0 2px 2px 0}.auth-page[_ngcontent-%COMP%]   .auth-content[_ngcontent-%COMP%]{margin:0 5%}.auth-page[_ngcontent-%COMP%]   .auth-content[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:80%;max-width:400px;margin:auto;display:block}.paz[_ngcontent-%COMP%]{position:relative;z-index:10}"]],data:{}});function f(n){return t.Ob(0,[(n()(),t.sb(0,0,null,null,3,"p",[["class","text08"],["ion-text",""]],null,null,null,null,null)),(n()(),t.sb(1,0,null,null,2,"ion-text",[["color","danger"]],null,null,null,h.sb,h.H)),t.rb(2,49152,null,0,i.vb,[t.h,t.k,t.x],{color:[0,"color"]},null),(n()(),t.Mb(-1,0,[" Formato inv\xe1lido. "]))],function(n,l){n(l,2,0,"danger")},null)}function k(n){return t.Ob(0,[(n()(),t.sb(0,0,null,null,62,"ion-content",[["class","login auth-page"],["padding",""]],null,null,null,h.Y,h.n)),t.rb(1,49152,null,0,i.t,[t.h,t.k,t.x],null,null),(n()(),t.sb(2,0,null,0,60,"div",[["class","auth-content"]],null,null,null,null,null)),(n()(),t.sb(3,0,null,null,5,"div",[["class","animated fadeInDown"],["tappable",""]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==t.Eb(n,4).onClick()&&o),"click"===l&&(o=!1!==t.Eb(n,6).onClick(e)&&o),o},null,null)),t.rb(4,16384,null,0,m.n,[m.m,m.a,[8,null],t.C,t.k],{routerLink:[0,"routerLink"]},null),t.Fb(5,1),t.rb(6,737280,null,0,i.Kb,[C.h,i.Hb,t.k,m.m,[2,m.n]],null,null),(n()(),t.sb(7,0,null,null,1,"ion-img",[["class","logo"]],null,null,null,h.db,h.s)),t.rb(8,49152,null,0,i.C,[t.h,t.k,t.x],{src:[0,"src"]},null),(n()(),t.sb(9,0,null,null,53,"div",[["class","animated fadeInUp"]],null,null,null,null,null)),(n()(),t.sb(10,0,null,null,52,"ion-card",[["color","light"],["padding",""]],null,null,null,h.V,h.g)),t.rb(11,49152,null,0,i.l,[t.h,t.k,t.x],{color:[0,"color"]},null),(n()(),t.sb(12,0,null,0,34,"form",[["class","list-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.enter"],[null,"submit"],[null,"reset"]],function(n,l,e){var o=!0,u=n.component;return"submit"===l&&(o=!1!==t.Eb(n,14).onSubmit(e)&&o),"reset"===l&&(o=!1!==t.Eb(n,14).onReset()&&o),"keyup.enter"===l&&(o=!1!==(!!u.onLoginForm.valid&&u.submit())&&o),o},null,null)),t.rb(13,16384,null,0,u.r,[],null,null),t.rb(14,540672,null,0,u.d,[[8,null],[8,null]],{form:[0,"form"]},null),t.Jb(2048,null,u.a,null,[u.d]),t.rb(16,16384,null,0,u.k,[[4,u.a]],null,null),(n()(),t.sb(17,0,null,null,13,"ion-item",[["no-padding",""]],null,null,null,h.fb,h.u)),t.rb(18,49152,null,0,i.G,[t.h,t.k,t.x],null,null),(n()(),t.sb(19,0,null,0,4,"ion-label",[["position","floating"]],null,null,null,h.gb,h.v)),t.rb(20,49152,null,0,i.M,[t.h,t.k,t.x],{position:[0,"position"]},null),(n()(),t.sb(21,0,null,0,1,"ion-icon",[["item-start",""],["name","mail"]],null,null,null,h.cb,h.r)),t.rb(22,49152,null,0,i.B,[t.h,t.k,t.x],{name:[0,"name"]},null),(n()(),t.Mb(-1,0,[" Correo Electr\xf3nico "])),(n()(),t.sb(24,0,null,0,6,"ion-input",[["color","hotpink"],["formControlName","email"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var o=!0;return"ionBlur"===l&&(o=!1!==t.Eb(n,25)._handleBlurEvent(e.target)&&o),"ionChange"===l&&(o=!1!==t.Eb(n,25)._handleInputEvent(e.target)&&o),o},h.eb,h.t)),t.rb(25,16384,null,0,i.Mb,[t.k],null,null),t.Jb(1024,null,u.h,function(n){return[n]},[i.Mb]),t.rb(27,671744,null,0,u.c,[[3,u.a],[8,null],[8,null],[6,u.h],[2,u.q]],{name:[0,"name"]},null),t.Jb(2048,null,u.i,null,[u.c]),t.rb(29,16384,null,0,u.j,[[4,u.i]],null,null),t.rb(30,49152,null,0,i.F,[t.h,t.k,t.x],{color:[0,"color"],type:[1,"type"]},null),(n()(),t.hb(16777216,null,null,1,null,f)),t.rb(32,16384,null,0,C.j,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(n()(),t.sb(33,0,null,null,13,"ion-item",[["no-padding",""]],null,null,null,h.fb,h.u)),t.rb(34,49152,null,0,i.G,[t.h,t.k,t.x],null,null),(n()(),t.sb(35,0,null,0,4,"ion-label",[["position","floating"]],null,null,null,h.gb,h.v)),t.rb(36,49152,null,0,i.M,[t.h,t.k,t.x],{position:[0,"position"]},null),(n()(),t.sb(37,0,null,0,1,"ion-icon",[["item-start",""],["name","lock"]],null,null,null,h.cb,h.r)),t.rb(38,49152,null,0,i.B,[t.h,t.k,t.x],{name:[0,"name"]},null),(n()(),t.Mb(-1,0,[" Contrase\xf1a "])),(n()(),t.sb(40,0,null,0,6,"ion-input",[["color","hotpink"],["formControlName","password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var o=!0;return"ionBlur"===l&&(o=!1!==t.Eb(n,41)._handleBlurEvent(e.target)&&o),"ionChange"===l&&(o=!1!==t.Eb(n,41)._handleInputEvent(e.target)&&o),o},h.eb,h.t)),t.rb(41,16384,null,0,i.Mb,[t.k],null,null),t.Jb(1024,null,u.h,function(n){return[n]},[i.Mb]),t.rb(43,671744,null,0,u.c,[[3,u.a],[8,null],[8,null],[6,u.h],[2,u.q]],{name:[0,"name"]},null),t.Jb(2048,null,u.i,null,[u.c]),t.rb(45,16384,null,0,u.j,[[4,u.i]],null,null),t.rb(46,49152,null,0,i.F,[t.h,t.k,t.x],{color:[0,"color"],type:[1,"type"]},null),(n()(),t.sb(47,0,null,0,4,"ion-button",[["color","success"],["expand","full"],["margin",""],["shape","round"],["size","medium"],["tappable",""]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.submit()&&t),t},h.P,h.e)),t.rb(48,49152,null,0,i.j,[t.h,t.k,t.x],{color:[0,"color"],disabled:[1,"disabled"],expand:[2,"expand"],shape:[3,"shape"],size:[4,"size"]},null),(n()(),t.sb(49,0,null,0,1,"ion-icon",[["margin-end",""],["name","log-in"]],null,null,null,h.cb,h.r)),t.rb(50,49152,null,0,i.B,[t.h,t.k,t.x],{name:[0,"name"]},null),(n()(),t.Mb(-1,0,[" Iniciar Sesi\xf3n "])),(n()(),t.sb(52,0,null,0,5,"ion-button",[["color","secondary"],["expand","full"],["margin",""],["shape","round"],["size","medium"]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==t.Eb(n,54).onClick()&&o),"click"===l&&(o=!1!==t.Eb(n,56).onClick(e)&&o),o},h.P,h.e)),t.rb(53,49152,null,0,i.j,[t.h,t.k,t.x],{color:[0,"color"],expand:[1,"expand"],shape:[2,"shape"],size:[3,"size"]},null),t.rb(54,16384,null,0,m.n,[m.m,m.a,[8,null],t.C,t.k],{routerLink:[0,"routerLink"]},null),t.Fb(55,1),t.rb(56,737280,null,0,i.Kb,[C.h,i.Hb,t.k,m.m,[2,m.n]],null,null),(n()(),t.Mb(-1,0,[" Crear Cuenta "])),(n()(),t.sb(58,0,null,0,4,"p",[["class","paz"],["padding",""],["tappable",""],["text-right",""]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.openForgotPassAlert()&&t),t},null,null)),(n()(),t.sb(59,0,null,null,3,"ion-text",[["color","dark"]],null,null,null,h.sb,h.H)),t.rb(60,49152,null,0,i.vb,[t.h,t.k,t.x],{color:[0,"color"]},null),(n()(),t.sb(61,0,null,0,1,"strong",[],null,null,null,null,null)),(n()(),t.Mb(-1,null,[" \xbfOlvidaste tu contrase\xf1a? "]))],function(n,l){var e=l.component,t=n(l,5,0,"/home");n(l,4,0,t),n(l,6,0),n(l,8,0,e.logo),n(l,11,0,"light"),n(l,14,0,e.onLoginForm),n(l,20,0,"floating"),n(l,22,0,"mail"),n(l,27,0,"email"),n(l,30,0,"hotpink","email"),n(l,32,0,e.onLoginForm.get("email").touched&&e.onLoginForm.get("email").hasError("required")),n(l,36,0,"floating"),n(l,38,0,"lock"),n(l,43,0,"password"),n(l,46,0,"hotpink","password"),n(l,48,0,"success",!e.onLoginForm.valid,"full","round","medium"),n(l,50,0,"log-in"),n(l,53,0,"secondary","full","round","medium");var o=n(l,55,0,"/signup");n(l,54,0,o),n(l,56,0),n(l,60,0,"dark")},function(n,l){n(l,12,0,t.Eb(l,16).ngClassUntouched,t.Eb(l,16).ngClassTouched,t.Eb(l,16).ngClassPristine,t.Eb(l,16).ngClassDirty,t.Eb(l,16).ngClassValid,t.Eb(l,16).ngClassInvalid,t.Eb(l,16).ngClassPending),n(l,24,0,t.Eb(l,29).ngClassUntouched,t.Eb(l,29).ngClassTouched,t.Eb(l,29).ngClassPristine,t.Eb(l,29).ngClassDirty,t.Eb(l,29).ngClassValid,t.Eb(l,29).ngClassInvalid,t.Eb(l,29).ngClassPending),n(l,40,0,t.Eb(l,45).ngClassUntouched,t.Eb(l,45).ngClassTouched,t.Eb(l,45).ngClassPristine,t.Eb(l,45).ngClassDirty,t.Eb(l,45).ngClassValid,t.Eb(l,45).ngClassInvalid,t.Eb(l,45).ngClassPending)})}function P(n){return t.Ob(0,[(n()(),t.sb(0,0,null,null,1,"app-login",[],null,null,null,k,v)),t.rb(1,114688,null,0,d,[r.a,i.Hb,b.a,i.Fb,i.Nb,i.a,i.Eb,u.b,c],null,null)],function(n,l){n(l,1,0)},null)}var M=t.ob("app-login",d,P,{},{},[]);e.d(l,"LoginPageModuleNgFactory",function(){return E});var E=t.pb(g,[],function(n){return t.Bb([t.Cb(512,t.j,t.ab,[[8,[p.a,M]],[3,t.j],t.v]),t.Cb(4608,C.l,C.k,[t.s,[2,C.v]]),t.Cb(4608,u.p,u.p,[]),t.Cb(4608,u.b,u.b,[]),t.Cb(4608,i.b,i.b,[t.x,t.g]),t.Cb(4608,i.Gb,i.Gb,[i.b,t.j,t.p]),t.Cb(4608,i.Jb,i.Jb,[i.b,t.j,t.p]),t.Cb(1073742336,C.b,C.b,[]),t.Cb(1073742336,u.o,u.o,[]),t.Cb(1073742336,u.e,u.e,[]),t.Cb(1073742336,u.m,u.m,[]),t.Cb(1073742336,i.Cb,i.Cb,[]),t.Cb(1073742336,m.o,m.o,[[2,m.t],[2,m.m]]),t.Cb(1073742336,g,g,[]),t.Cb(1024,m.k,function(){return[[{path:"",component:d}]]},[])])})}}]);